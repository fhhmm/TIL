# Temporal Data Model
データが時間とともにどのように変化するかを捉えて管理するためのデータモデル。  
下記の2つの時間に関する概念がある。
- Valid Time
- Transaction Time

## Valid Time
あるデータが有効である期間のこと。  
2022/4/1に入社したある従業員の給料が、2023/4/1に300,000円から350,000円に上がったというケースを考える。  
Valid Timeは下記のようになる。  
|salary|valid_from|valid_to|
|:---:|:---:|:---:|
|300,000|2022/04/01|2023/03/31|
|350,000|2023/04/01|NOW|

さらに、2024/4/1に400,000円に昇給した場合、下記のようになる。
|salary|valid_from|valid_to|
|:---:|:---:|:---:|
|300,000|2022/04/01|2023/03/31|
|350,000|2023/04/01|2024/03/31|
|400,000|2024/04/01|NOW|

## Transaction Time
あるデータが記録されていた期間のこと。  
↑の例で、300,000円→350,000円の昇給が、2023/4/15に確定しDBにinsertされたとすると、Transaction Timeは下記のようになる。  
|salary|transaction_from|transaction_to|
|:---:|:---:|:---:|
|300,000|2022/04/01|2024/04/15|
|350,000|2023/04/15|NOW|

同様に、350,000円→400,000円への昇給が、2024/4/10に確定しDBにinsertされた場合、下記のようになる。  
|salary|transaction_from|transaction_to|
|:---:|:---:|:---:|
|300,000|2022/04/01|2024/04/15|
|350,000|2023/04/15|2024/4/10|
|400,000|2024/04/10|NOW|

## 参考
- https://zenn.dev/zahn/articles/6a3d2138e9fe68
- https://matsu-chara.hatenablog.com/entry/2017/04/01/110000
